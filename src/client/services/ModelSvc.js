
import ClientAPI from 'ClientAPI'
import BaseSvc from './BaseSvc'

export default class SocketSvc extends BaseSvc {

  /////////////////////////////////////////////////////////////////
  //
  //
  /////////////////////////////////////////////////////////////////
  constructor(opts) {

    super (opts)

    this._api = new ClientAPI(this._config.apiUrl)
  }

  /////////////////////////////////////////////////////////////////
  //
  //
  /////////////////////////////////////////////////////////////////
  name() {

    return 'ModelSvc';
  }

  /////////////////////////////////////////////////////////////////
  //
  //
  /////////////////////////////////////////////////////////////////
  getModels (dbName) {

    var url = `${this._config.apiUrl}/${dbName}`

    return this._api.ajax(url)
  }

  /////////////////////////////////////////////////////////////////
  //
  //
  /////////////////////////////////////////////////////////////////
  getModel (dbName, modelId) {

    var url = `${this._config.apiUrl}/${dbName}/${modelId}`

    return this._api.ajax(url)
  }
}
